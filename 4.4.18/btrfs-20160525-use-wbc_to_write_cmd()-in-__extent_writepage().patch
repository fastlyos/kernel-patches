
Use wbt-provided wbc_to_write_cmd() to match xfs_aops.c:xfs_submit_ioend_bio().
No functional change.

Signed-off-by: Holger Hoffst√§tte <holger@applied-asynchrony.com>

--- ./fs/btrfs/extent_io.c~	2016-03-10 00:35:58.000000000 +0100
+++ ./fs/btrfs/extent_io.c	2016-05-25 01:07:37.321175978 +0200
@@ -3605,14 +3605,9 @@ static int __extent_writepage(struct pag
 	size_t pg_offset = 0;
 	loff_t i_size = i_size_read(inode);
 	unsigned long end_index = i_size >> PAGE_CACHE_SHIFT;
-	int write_flags;
+	int write_flags = wbc_to_write_cmd(wbc);
 	unsigned long nr_written = 0;
 
-	if (wbc->sync_mode == WB_SYNC_ALL)
-		write_flags = WRITE_SYNC;
-	else
-		write_flags = WRITE;
-
 	trace___extent_writepage(page, inode, wbc);
 
 	WARN_ON(!PageLocked(page));
